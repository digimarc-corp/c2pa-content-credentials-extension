{"version":3,"file":"StorybookRunner.js","sourceRoot":"","sources":["../src/StorybookRunner.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAK3D,wGAGuE;AAMvE,iFAAiF;AACjF,MAAM,SAAS,GAAW,wBAAwB,CAAC;AAEnD,MAAa,eAAgB,SAAQ,2CAAmD;IAGtF,IAAW,QAAQ;QACjB,OAAO,UAAU,CAAC;IACpB,CAAC;IAEM,KAAK,CAAC,WAAW;QACtB,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;QAC9D,MAAM,QAAQ,GAAc,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAElD,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,CAAC;QAEjF,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,CAAC;QAEvD,QAAQ,CAAC,gBAAgB,CAAC,8DAA8D,CAAC,CAAC;IAC5F,CAAC;CACF;AAjBD,0CAiBC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport { ITerminal } from '@rushstack/node-core-library';\n\nimport { IScopedLogger } from '@rushstack/heft';\nimport {\n  ISubprocessRunnerBaseConfiguration,\n  SubprocessRunnerBase\n} from '@rushstack/heft/lib/utilities/subprocess/SubprocessRunnerBase';\n\nexport interface IStorybookRunnerConfiguration extends ISubprocessRunnerBaseConfiguration {\n  resolvedStartupModulePath: string;\n}\n\n// TODO: Why must this be a different name from the logger in StorybookPlugin.ts?\nconst TASK_NAME: string = 'heft-storybook-runnner';\n\nexport class StorybookRunner extends SubprocessRunnerBase<IStorybookRunnerConfiguration> {\n  private _logger!: IScopedLogger;\n\n  public get filename(): string {\n    return __filename;\n  }\n\n  public async invokeAsync(): Promise<void> {\n    this._logger = await this.requestScopedLoggerAsync(TASK_NAME);\n    const terminal: ITerminal = this._logger.terminal;\n\n    terminal.writeLine('Launching ' + this._configuration.resolvedStartupModulePath);\n\n    require(this._configuration.resolvedStartupModulePath);\n\n    terminal.writeVerboseLine('Completed synchronous portion of launching startupModulePath');\n  }\n}\n"]}
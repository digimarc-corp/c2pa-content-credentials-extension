{"version":3,"file":"RushUtilities.js","sourceRoot":"","sources":["../../src/utilities/RushUtilities.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;;;;;;AAE3D;;;;GAIG;AACH,2CAA6B;AAC7B,oEAA0D;AAE1D,SAAS,mBAAmB;IAC1B,IAAI,aAAa,GAAW,OAAO,CAAC,GAAG,EAAE,CAAC;IAE1C,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;QACnC,MAAM,gBAAgB,GAAW,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;QAEvE,IAAI,8BAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE;YACvC,OAAO,aAAa,CAAC;SACtB;QAED,MAAM,YAAY,GAAW,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACzD,IAAI,YAAY,KAAK,aAAa,EAAE;YAClC,MAAM;SACP;QACD,aAAa,GAAG,YAAY,CAAC;KAC9B;IACD,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;AACjE,CAAC;AAED,IAAI,qBAA6B,CAAC;AAClC,SAAgB,kBAAkB;IAChC,OAAO,qBAAqB,IAAI,CAAC,qBAAqB,GAAG,mBAAmB,EAAE,CAAC,CAAC;AAClF,CAAC;AAFD,gDAEC;AAED,SAAgB,uBAAuB;IACrC,MAAM,cAAc,GAAW,kBAAkB,EAAE,CAAC;IACpD,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AACrD,CAAC;AAHD,0DAGC;AAED,SAAgB,mBAAmB;IACjC,MAAM,cAAc,GAAW,kBAAkB,EAAE,CAAC;IACpD,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACvD,CAAC;AAHD,kDAGC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\n/**\n * This is taken from rush-lib. If we use RushConfiguration from rush-lib\n * to get the rush common/temp folder, we cause a whole bunch of unnecessary\n * filesystem accesses.\n */\nimport * as path from 'path';\nimport { FileSystem } from '@rushstack/node-core-library';\n\nfunction _findRushJsonFolder(): string {\n  let currentFolder: string = process.cwd();\n\n  for (let i: number = 0; i < 10; ++i) {\n    const rushJsonFilename: string = path.join(currentFolder, 'rush.json');\n\n    if (FileSystem.exists(rushJsonFilename)) {\n      return currentFolder;\n    }\n\n    const parentFolder: string = path.dirname(currentFolder);\n    if (parentFolder === currentFolder) {\n      break;\n    }\n    currentFolder = parentFolder;\n  }\n  throw new Error('Unable to find rush.json configuration file');\n}\n\nlet _cachedRushJsonFolder: string;\nexport function findRushJsonFolder(): string {\n  return _cachedRushJsonFolder || (_cachedRushJsonFolder = _findRushJsonFolder());\n}\n\nexport function getRushCommonTempFolder(): string {\n  const rushJsonFolder: string = findRushJsonFolder();\n  return path.join(rushJsonFolder, 'common', 'temp');\n}\n\nexport function getRushConfigFolder(): string {\n  const rushJsonFolder: string = findRushJsonFolder();\n  return path.join(rushJsonFolder, 'common', 'config');\n}\n"]}
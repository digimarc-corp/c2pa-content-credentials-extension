"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.vueDocgen = void 0;
const vue_docgen_api_1 = require("vue-docgen-api");
const magic_string_1 = __importDefault(require("magic-string"));
function vueDocgen() {
    return {
        name: 'vue-docgen',
        async transform(src, id) {
            if (/\.(vue)$/.test(id)) {
                const metaData = await (0, vue_docgen_api_1.parse)(id);
                const metaSource = JSON.stringify(metaData);
                const s = new magic_string_1.default(src);
                s.append(`;_sfc_main.__docgenInfo = ${metaSource}`);
                return {
                    code: s.toString(),
                    map: s.generateMap({ hires: true, source: id }),
                };
            }
        },
    };
}
exports.vueDocgen = vueDocgen;
//# sourceMappingURL=vue-docgen.js.map